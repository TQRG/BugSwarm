after_success: ['if [[ $TRAVIS_PYTHON_VERSION != nightly ]]; then cd ../ && codecov;
    fi']
dist: precise
group: stable
install: ['if [[ $TRAVIS_PYTHON_VERSION == 2* ]]; then travis_retry pip install futures==3.1.1
    mock==2.0.0 monotonic==1.3 trollius==2.1; fi', 'if [[ $TRAVIS_PYTHON_VERSION ==
    ''pypy'' ]]; then travis_retry pip install futures==3.1.1 mock==2.0.0; fi', 'if
    [[ $TRAVIS_PYTHON_VERSION != ''pypy''* ]]; then travis_retry pip install pycurl==7.43.0;
    fi', 'if [[ $TRAVIS_PYTHON_VERSION != ''pypy''* ]]; then travis_retry pip install
    Twisted==17.1.0; fi', 'if [[ $TRAVIS_PYTHON_VERSION == ''2.7'' || $TRAVIS_PYTHON_VERSION
    == ''3.5'' || $TRAVIS_PYTHON_VERSION == ''3.6'' ]]; then travis_retry pip install
    sphinx==1.6.1 sphinx_rtd_theme==0.2.5b1; fi', 'if [[ $TRAVIS_PYTHON_VERSION !=
    ''pypy''* ]]; then export TORNADO_EXTENSION=1; fi', travis_retry python setup.py
    install, travis_retry pip install codecov==2.0.9 virtualenv==15.1.0, 'if [[ $TRAVIS_PYTHON_VERSION
    != ''pypy3'' ]]; then virtualenv ./nodeps; fi', 'if [[ $TRAVIS_PYTHON_VERSION
    != ''pypy3'' ]]; then ./nodeps/bin/python -VV; fi', 'if [[ $TRAVIS_PYTHON_VERSION
    != ''pypy3'' ]]; then ./nodeps/bin/python setup.py install; fi', curl-config --version;
    pip freeze]
language: python
os: linux
python: pypy
script: [unset TORNADO_EXTENSION && python -m tornado.test, cd maint, cp ../.coveragerc
    ., 'if [[ $TRAVIS_PYTHON_VERSION != ''pypy''* ]]; then export TORNADO_EXTENSION=1;
    fi', export TARGET="-m tornado.test.runtests", export ASYNC_TEST_TIMEOUT=15, 'if
    [[ $TRAVIS_PYTHON_VERSION != nightly ]]; then export TARGET="-m coverage run $TARGET";
    fi', python $TARGET, python $TARGET --ioloop=tornado.platform.select.SelectIOLoop,
  python -O $TARGET, LANG=C python $TARGET, LANG=en_US.utf-8 python $TARGET, 'if [[
    $TRAVIS_PYTHON_VERSION == 3* ]]; then python -bb $TARGET; fi', 'if [[ $TRAVIS_PYTHON_VERSION
    != pypy* ]]; then python $TARGET --resolver=tornado.netutil.ThreadedResolver;
    fi', 'if [[ $TRAVIS_PYTHON_VERSION == 2* ]]; then python $TARGET --httpclient=tornado.curl_httpclient.CurlAsyncHTTPClient;
    fi', 'if [[ $TRAVIS_PYTHON_VERSION == 2* ]]; then python $TARGET --ioloop_time_monotonic;
    fi', 'if [[ $TRAVIS_PYTHON_VERSION != ''pypy''* ]]; then python $TARGET --ioloop=tornado.platform.twisted.TwistedIOLoop;
    fi', 'if [[ $TRAVIS_PYTHON_VERSION == 3.4 || $TRAVIS_PYTHON_VERSION == 3.5 ||
    $TRAVIS_PYTHON_VERSION == 3.6 ]]; then python $TARGET --ioloop=tornado.platform.asyncio.AsyncIOLoop;
    fi', 'if [[ $TRAVIS_PYTHON_VERSION == 2* ]]; then python $TARGET --ioloop=tornado.platform.asyncio.AsyncIOLoop;
    fi', 'if [[ $TRAVIS_PYTHON_VERSION == 2* ]]; then python $TARGET --resolver=tornado.platform.twisted.TwistedResolver;
    fi', 'if [[ $TRAVIS_PYTHON_VERSION == 3* ]]; then python $TARGET --ioloop_time_monotonic;
    fi', 'if [[ $TRAVIS_PYTHON_VERSION != ''pypy3'' ]]; then ../nodeps/bin/python
    -m tornado.test.runtests; fi', 'if [[ $TRAVIS_PYTHON_VERSION != nightly ]]; then
    coverage xml; fi', export TORNADO_EXTENSION=0, 'if [[ $TRAVIS_PYTHON_VERSION ==
    ''3.5'' || $TRAVIS_PYTHON_VERSION == 3.6 ]]; then cd ../docs && mkdir sphinx-out
    && sphinx-build -E -n -W -b html . sphinx-out; fi', 'if [[ $TRAVIS_PYTHON_VERSION
    == ''2.7'' || $TRAVIS_PYTHON_VERSION == ''3.5'' || $TRAVIS_PYTHON_VERSION == 3.6
    ]]; then cd ../docs && mkdir sphinx-doctest-out && sphinx-build -E -n -b doctest
    . sphinx-out; fi']
sudo: false
