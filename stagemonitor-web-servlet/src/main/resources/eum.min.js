(function(){(function(){function K(){for(var a='',b=0;16>b;b++)a+=R[Math.round(15*Math.random())];return a}function p(){return(new Date).getTime()}function S(a,b){a.addEventListener?a.addEventListener('load',b,!1):a.attachEvent&&a.attachEvent('onload',b)}function L(){m.time=p();var a=m.time,b=B[m.name];if(b)for(var c=0,d=b.length;c<d;c++)b[c](a)}function M(a,b){v[a]=b}function C(a){D=a;v[a].w()}function T(){C('pageLoaded')}function x(){this.root={}}function E(a){var b=[],c;for(c in a)F.call(a,c)&&b.push(c);return b}
function U(a){var b=[Math.round(a.startTime-d.B),Math.round(a.duration),N[a.initiatorType]||N.other];'number'===typeof a.transferSize&&'number'===typeof a.encodedBodySize&&0<a.encodedBodySize&&(0===a.transferSize?b.push(G.I):a.transferSize<a.encodedBodySize?b.push(G.R):b.push(G.K),b.push(a.encodedBodySize));return b.join(',')}function H(a){for(var b in d.i)F.call(d.i,b)&&(a['m_'+b]=d.i[b])}function y(a){var b='',c;for(c in a)F.call(a,c)&&null!=a[c]&&(b+='&'+O(c)+'='+O(String(a[c])));a=b.substring(1);
0!==a.length&&(e&&2E3<a.length?(b=new e,b.open('POST',String(d.o),!0),b.setRequestHeader('Content-type','application/x-www-form-urlencoded'),b.send(a)):(new Image).src=String(d.o)+'?'+a)}function V(){function a(){function a(a){h||0!==f.st||(f.st=a,f.d=p()-(f.ts+d.b),y(f))}var c=new e,q=c.open,k=c.send,f={r:d.b,k:d.f,ts:0,d:0,ty:'xhr',pl:d.j,l:g.location.href,m:'',u:'',a:1,st:0,e:void 0};H(f);var h=!1;c.addEventListener('timeout',function(){h||a(w.timeout)});c.addEventListener('error',function(b){h||
(b=b&&(b.error&&b.error.message||b.message),'string'===typeof b&&(f.e=b.substring(0,300)),a(w.error))});c.addEventListener('abort',function(){h||a(w.abort)});c.addEventListener('readystatechange',function(){if(!h&&4===c.readyState){var b=void 0;try{b=c.status}catch(Z){a(w.error);return}0!==b&&a(b)}});c.open=function(a,b,k){a:{for(var e=b,r=0,l=d.v.length;r<l;r++)if(d.v[r].test(e)){h=!0;break a}h=!1}if(h)return q.apply(c,arguments);void 0===k&&(k=!0);e=v[D].g();r=I();e||(e=r);f.t=e;f.s=r;f.m=a;f.u=
b;f.a=k?1:0;try{var m=q.apply(c,arguments),n;try{var t=document.createElement('a');t.href=b;var u=g.location;n=(t.protocol&&':'!==t.protocol?t.protocol:u.protocol)===u.protocol&&(t.hostname||u.hostname)===u.hostname&&(t.port||u.port)===u.port}catch(J){n=!1}n&&(c.setRequestHeader('X-INSTANA-T',e),c.setRequestHeader('X-INSTANA-S',r),c.setRequestHeader('X-INSTANA-L','1'));return m}catch(J){throw f.ts=p()-d.b,f.st=w.O,f.e=J.message,y(f),J;}};c.send=function(){if(h)return k.apply(c,arguments);f.ts=p()-
d.b;return k.apply(c,arguments)};return c}e&&(new e).addEventListener&&(a.prototype=e.prototype,a.DONE=e.DONE,a.HEADERS_RECEIVED=e.HEADERS_RECEIVED,a.LOADING=e.LOADING,a.OPENED=e.OPENED,a.UNSENT=e.UNSENT,g.XMLHttpRequest=a)}function W(){var a=g.onerror;g.onerror=function(b,c,d,k,f){var h=f&&f.stack;h||(h='at '+c+' '+d+':'+k);var q=b;if(q&&!(100<P)){20<=z&&(n={},z=0);var q=String(q).substring(0,300),h=String(h||'').split('\n').slice(0,30).join('\n'),e=g.location.href,l=v[D].g(),m=q+h+e+l,p=n[m];p?
p.A++:(n[m]={message:q,stack:h,location:e,P:l,A:1,G:0},z++);A||(A=setTimeout(X,1E3))}if('function'===typeof a)return a.apply(this,arguments)}}function X(){clearTimeout(A);A=null;for(var a in n)if(n.hasOwnProperty(a)){var b=n[a];if(b.A>b.G){var c=I(),b={k:d.f,s:c,t:b.P||c,ts:p(),ty:'err',pl:d.j,l:b.location,e:b.message,st:b.stack,c:b.A-b.G};H(b);y(b);P++}}n={};z=0}var g=window,O=g.encodeURIComponent,e=g.XMLHttpRequest,F=Object.prototype.hasOwnProperty,R='0123456789abcdef'.split('');g.crypto&&g.crypto.getRandomValues&&
g.Uint32Array&&(K=function(){var a=new g.Uint32Array(2);g.crypto.getRandomValues(a);return a[0].toString(16)+a[1].toString(16)});var I=K,B={},m={name:'e:onLoad',time:null,L:function(){if('complete'===document.readyState)return L();S(g,function(){setTimeout(L,0)})}},v={},D=void 0,l=g.performance||g.V||g.T||g.S,Q=l&&l.timing,Y=l&&l.getEntriesByType,d={N:'EumObject',j:I(),D:null,b:p(),B:l&&l.now?l.now():0,h:p(),o:null,f:null,i:{},v:[]};x.prototype.H=function(a,b){this.C(this.root,a.split(''),0,b)};x.prototype.C=
function(a,b,c,d){var g=b[c];null==g?(a['<END>']=a['<END>']||[]).push(d):(a=a[g]=a[g]||{},this.C(a,b,c+1,d))};x.prototype.F=function(a){a=a||this.root;var b=E(a);if(1===b.length&&'<END>'===b[0])return a['<END>'].slice();for(var c={},d=0,g=b.length;d<g;d++){var f=b[d],h=a[f];if('<END>'===f)c.$=h.slice();else{for(var h=f,f=a[f],e=E(f);1===e.length&&'<END>'!==e[0];)h+=e[0],f=f[e[0]],e=E(f);c[h]=this.F(f)}}return c};var N={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6,image:7},G={U:0,I:1,
R:2,K:3},w={timeout:-100,abort:-101,O:-102,error:-103},P=0,z=0,n={},A=void 0;v.init={w:function(){var a=g[g[d.N]];if(a)for(var b=a.q,c=0,e=b.length;c<e;c++){var k=b[c];switch(k[0]){case 'apiKey':d.f=k[1];break;case 'reportingUrl':d.o=k[1];break;case 'meta':d.i[k[1]]=k[2];break;case 'traceId':d.D=k[1];break;case 'ignoreUrls':d.v=k[1]}}'number'===typeof a.l&&(d.h=a.l,d.o&&(V(),W(),C('waitForPageLoad')))},g:function(){return null}};M('waitForPageLoad',{w:function(){var a=m.name;(B[a]=B[a]||[]).push(T);
m.L()},g:function(){return d.j}});M('pageLoaded',{w:function(){var a={ty:'pl'};a.r=d.b;a.k=d.f;a.t=d.j;a.bt=d.D;a.u=g.location.href;H(a);if(Q){var b=l.timing,c=b.redirectEnd-b.redirectStart,e=b.fetchStart-c;a.ts=e-d.b;0<b.loadEventStart?a.d=b.loadEventStart-b.fetchStart:(a.d=Number(m.time)-d.h,a.tim='0');a.t_unl=b.unloadEventEnd-b.unloadEventStart;a.t_red=c;a.t_apc=b.domainLookupStart-b.fetchStart;a.t_dns=b.domainLookupEnd-b.domainLookupStart;a.t_tcp=b.connectEnd-b.connectStart;a.t_req=b.responseStart-
b.requestStart;a.t_rsp=b.responseEnd-b.responseStart;a.t_pro=b.loadEventStart-b.responseEnd;a.t_loa=b.loadEventEnd-b.loadEventStart;b=null;g.chrome&&g.chrome.loadTimes?b=1E3*g.chrome.loadTimes().firstPaintTime:'number'===typeof g.performance.timing.M?b=g.performance.timing.M:'number'===typeof g.performance.timing.J&&(b=g.performance.timing.J);null!=b&&0!==b&&(a.t_fp=Math.round(b-e))}else a.ts=d.h-d.b,a.d=Number(m.time)-d.h,Q||(a.tim='0');if(Y&&g.JSON){for(var e=l.getEntriesByType('resource'),b=new x,
c=0,k=e.length;c<k;c++){var f=e[c],h=f.name;255<h.length&&(h=h.substring(0,255));('xmlhttprequest'!==f.initiatorType||f.startTime<d.B)&&b.H(h,U(f))}e=b.F();a.res=g.JSON.stringify(e)}y(a)},g:function(){return null}});C('init')})();})();
//# sourceMappingURL=eum.min.js.map
